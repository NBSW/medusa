<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">

    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="/static/bootstrap/bootstrap.min.css">
    <!-- 可选的Bootstrap主题文件（一般不用引入） -->
    <link rel="stylesheet" href="/static/bootstrap/bootstrap-theme.min.css">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="/static/bootstrap/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="/static/bootstrap/bootstrap.min.js"></script>
    ##     <!-- jsTree -->
    ##     <link rel="stylesheet" href="/static/jstree/themes/default/style.min.css" />
    ##     <script src="/static/jstree/jquery.min.js"></script>
    ##     <script src="/static/jstree/jstree.min.js"></script>
    ##     <!-- echarts -->
    ##     <script src="/static/echarts/echarts-all.js"></script>


    ## JS 引用顺序: jquery, underscore, backbone
    <script src="http://the5fireblog.b0.upaiyun.com/staticfile/jquery-1.10.2.js"></script>
    <script src="http://the5fireblog.b0.upaiyun.com/staticfile/underscore.js"></script>
    <script src="http://the5fireblog.b0.upaiyun.com/staticfile/backbone.js"></script>
</head>
<body>
    <h3>backbone.js</h3>

    ##     <div class="container-fluid">
    ##         ${ data['key'] }
    ##     </div>

    <div class="container-fluid">
        <table class="table table-bordered table-striped" id="id_table">
            <thead>
                <tr>
                    <td>ID</td>
                    <th>图片</th>
                    <th>标题</th>
                    <th>来源频道</th>
                    <th>详情</th>
                    <th>发布时间</th>
                </tr>
            </thead>
            <tbody>
##                 {% for news in page.object_list %}
##                 <tr>
##                     <td>{{ news.id }}</td>
##                     <td>
##                         <img src="{{ news.img }}" height="120" width="160">
##                     </td>
##                     <td><a href="{{ news.link }}">{{ news.title }}</a></td>
##                     <td>{{ news.source }}<br>{{ news.channel_name }}({{ news.channel_id }})</td>
##                     <td>{{ news.desc }}</td>
##                     <td>{{ news.datetime_publish }}</td>
##                 </tr>
##                 {% endfor %}
            </tbody>
        </table>
    </div>




    <div id="id_container"></div>

    <script type="text/template" id="id_template">
##         <label><%= search_label %></label>
        <input type="text" id="search_input" />
        <input type="button" id="search_button" value="Search" />
    </script>

##     <script type="text/template" id="search_template">
##       <%static:include path="backbone_view.underscore" />
##     </script>


    <script>
        (function($){
            var NewsView = Backbone.View.extend({
                el: $("#id_container"),
                initialize: function(){
                    console.log('NewsView initialized');
                },
                render: function(context){
                    //使用 underscore 编译模板
                    var template = _.template($("#id_template").html());
                    //加载模板到对应的 el 属性中
                    $(this.el).html(template(context));
                }
            });

            var newsView = new NewsView();
            newsView.render({
                search_label: "搜索渲染"
            });

        })(jQuery);
    </script>


</body>
</html>
